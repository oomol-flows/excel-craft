inputs_def:
  - handle: data
    description: "%input-table-data-as-array-of-records2%"
    json_schema:
      type: array
      items:
        type: object
    nullable: false

  - handle: time_column
    description: "%name-of-the-time-date-column%"
    json_schema:
      type: string
    nullable: false

  - handle: operation
    description: "%time-series-operation-to-perform%"
    json_schema:
      type: string
      enum:
        - resample
        - rolling
        - shift
        - diff
        - parseDate
        - extractFeatures
    nullable: false

  - handle: params
    description: "%operation-specific-parameters%"
    json_schema:
      type: object
      properties:
        freq:
          type: string
          description: Resample frequency (1D, 1H, 1M, 1W)
        aggFunc:
          type: string
          description: Aggregation function for resample
        window:
          type: integer
          description: Rolling window size
        minPeriods:
          type: integer
          description: Minimum observations in window
        center:
          type: boolean
          description: Center the rolling window
        periods:
          type: integer
          description: Number of periods to shift
        format:
          type: string
          description: Date format string
        features:
          type: array
          items:
            type: string
          description: Time features to extract
    value: null
    nullable: true

outputs_def:
  - handle: data
    description: "%processed-table-data%"
    json_schema:
      type: array
      items:
        type: object

  - handle: operation
    description: "%operation-performed%"
    json_schema:
      type: string

  - handle: new_columns
    description: "%new-columns-added%"
    json_schema:
      type: array
      items:
        type: string

  - handle: time_range
    description: "%time-range-information%"
    json_schema:
      type: object
      properties:
        start:
          type: string
        end:
          type: string
        periods:
          type: integer

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%time-series-processor%"
icon: ":carbon:time:"
description: "%process-time-series-data-with-resampling-rolling-windows-shift-d%"
