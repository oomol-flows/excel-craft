inputs_def:
  - handle: data
    description: "%table-data-to-filter%"
    json_schema:
      type: array
      items:
        type: object
    nullable: false

  - handle: conditions
    description: "%filter-conditions-and-logic%"
    json_schema:
      type: array
      items:
        type: object
        properties:
          column:
            type: string
          operator:
            type: string
            enum:
              - ==
              - "!="
              - ">"
              - <
              - ">="
              - <=
              - contains
              - startsWith
              - endsWith
              - in
              - notIn
              - isNull
              - notNull
              - between
          value:
            anyOf:
              - type: string
              - type: number
              - type: boolean
              - type: array
              - type: "null"
    value: null
    nullable: true

  - group: Column & Row Selection
    collapsed: true

  - handle: columns
    description: "%select-specific-columns-empty-for-all%"
    json_schema:
      type: array
      items:
        type: string
    value: null
    nullable: true

  - handle: limit
    description: "%limit-number-of-returned-rows%"
    json_schema:
      type: integer
      minimum: 1
    value: null
    nullable: true

  - handle: offset
    description: "%skip-first-n-rows%"
    json_schema:
      type: integer
      minimum: 0
    value: null
    nullable: true

  - group: Sorting Options
    collapsed: true

  - handle: sort_by
    description: "%sort-rules%"
    json_schema:
      type: array
      items:
        type: object
        properties:
          column:
            type: string
          order:
            type: string
            enum:
              - asc
              - desc
    value: null
    nullable: true

outputs_def:
  - handle: data
    description: "%filtered-table-data%"
    json_schema:
      type: array
      items:
        type: object

  - handle: filtered_count
    description: "%number-of-rows-after-filtering%"
    json_schema:
      type: integer

  - handle: total_count
    description: "%original-number-of-rows%"
    json_schema:
      type: integer

  - handle: columns
    description: "%output-column-names%"
    json_schema:
      type: array
      items:
        type: string

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%table-filter%"
icon: ":carbon:filter:"
description: "%filter-rows-and-columns-based-on-conditions-supports-sorting-pag%"
